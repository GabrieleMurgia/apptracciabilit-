<mvc:View
  id="screen4View"
  controllerName="apptracciabilita.apptracciabilita.controller.Screen4"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:mdc="sap.ui.mdc"
  xmlns:mdctable="sap.ui.mdc.table">

  <Page id="page4" title="Tracciabilità">

    <customHeader>
      <Toolbar id="toolbar4">
        <Bar id="bar4">
          <contentLeft>
            <Image id="imageLogo4" src="IMG/Valentino.png" decorative="false" width="200px"/>
            <Button
              id="buttonBack4"
              icon="sap-icon://nav-back"
              press=".onNavBack" />
          </contentLeft>

          <contentMiddle>
            <Title id="title4" text="Tracciabilità" />
          </contentMiddle>

          <contentRight>
            <HBox id="hbox5" width="200px"/>
          </contentRight>
        </Bar>
      </Toolbar>
    </customHeader>

    <subHeader>
      <Toolbar id="toolbarInfo4">
        <Label id="lblVend4" text="Fornitore:" />
        <Text id="txtVend4" text="{detail>/VendorId}" />
        <ToolbarSpacer id="spVend4"/>

        <Label id="lblMat4" text="Materiale:" />
        <Text id="txtMat4" text="{detail>/Material}" />
        <ToolbarSpacer id="spMat4"/>

        <Label id="lblFib4" text="Fibra:" />
        <Text id="txtFib4" text="{detail>/Fibra}" />
      </Toolbar>
    </subHeader>

    <content>
      <VBox id="vboxContent4" width="100%">

        <HBox id="hboxToolbarTable4" width="100%" justifyContent="End" alignItems="Center" class="sapUiTinyMargin alignTableButton">

          <HBox id="hboxFilter4" class="sapUiTinyMarginEnd left20" alignItems="Center">
            <Label id="lblSearch4" text="Cercare:" labelFor="inputFilter4" class="sapUiTinyMarginEnd"/>
            <Input
              id="inputFilter4"
              width="22rem"
              liveChange=".onGlobalFilter"
              placeholder="Filtro testuale su tutti i campi"/>

            <Button
              id="btnColFilters4"
              icon="sap-icon://filter"
              tooltip="Filtri per colonna"
              press=".onOpenColumnFilters" />

            <Button id="btnSort4" icon="sap-icon://sort" tooltip="Ordinamento" press=".onToggleHeaderSort" />

            <Button
              id="btnResetFS4"
              icon="sap-icon://reset"
              tooltip="Reset filtri/ordinamento"
              press=".onResetFiltersAndSort" />
          </HBox>

          <HBox id="hboxFilter4dx">
            <Toolbar id="tblToolbar4" design="Transparent">
              <Button
                id="btnAddRow"
                text="Aggiungi riga"
                type="Emphasized"
                icon="sap-icon://add"
                enabled="{detail>/__canAddRow}"
                press=".onAddRow" />

              <Button
                id="btnDeleteRows"
                text="Elimina righe"
                type="Negative"
                icon="sap-icon://delete"
                enabled="{detail>/__canAddRow}"
                press=".onDeleteRows" />

              <Button id="tbPrint4" icon="sap-icon://print" tooltip="Stampa" press=".onPrint"/>
              <Button id="tbExcel4" icon="sap-icon://excel-attachment" tooltip="Excel" press=".onExportExcel"/>
            </Toolbar>
          </HBox>
        </HBox>

        <!-- IMPORTANT: type resta TABLE -->
        <mdc:Table
          id="mdcTable4"
          type="Table"
          width="100%"
          selectionMode="Multi"
          p13nMode="Column,Group"
          delegate='{"name":"apptracciabilita/apptracciabilita/delegates/MdcGenericTableDelegate","payload":{"cfgModel":"vm","cfgPath":"/mdcCfg/screen4"}}'>
          <!-- colonne create in controller -->
        </mdc:Table>

      </VBox>
    </content>

    <footer>
      <OverflowToolbar id="footerToolbar4">
        <ToolbarSpacer id="footerSpacer4"/>
        <Button
          id="btnSaveLocal4"
          text="Salva"
          icon="sap-icon://save"
          type="Emphasized"
          enabled="{detail>/__dirty}"
          press=".onSaveLocal"/>
      </OverflowToolbar>
    </footer>

  </Page>
</mvc:View>
